server:
  port: 4006
spring:
  application:
    name: zillow-gateway
  cloud:
    gateway:
      discovery:
        locator:
          enabled: false
          lower-case-service-id: true

      routes:
        - id: banner
          uri: lb://zillow-banner
          predicates:
            - Path=/banner

        - id: trendy
          uri: lb://zillow-trendy
          predicates:
            - Path=/hotProduct
            - Query=city

        - id: recommendation
          uri: lb://zillow-recommendation
          predicates:
            - Path=/recommendation
            - Query=city

        - id: details
          uri: lb://zillow-detail
          predicates:
            - Path=/details
            - Query=id

        - id: comment
          uri: lb://zillow-comment
          predicates:
            - Path=/comment
            - Query=id
            - Query=page

        - id: search
          uri: lb://zillow-search
          predicates:
            - Path=/search
            - Query=city
            - Query=content
            - Query=page

        - id: sendyzm
          uri: lb://zillow-login
          predicates:
            - Path=/sendyzm

        - id: login
          uri: lb://zillow-login
          predicates:
            - Path=/login


    #        - id: buyaction   #预订
#          uri: lb://zillow-buyaction
#          predicates:
#            - Path=/buyaction
#        - id: buytime   #预订时间
#          uri: lb://zillow-buytime
#          predicates:
#            - Path=/buytime
#            - Query=id
#        - id: order   #订单
#          uri: lb://zillow-order
#          predicates:
#            - Path=/order
#            - Query=user

    config:
      uri: http://localhost:9010
      label: master
      name: zillow
      profile: dev

zillow:
  banner:
    nginx:
      prefix: http://111.231.19.137:8888/

logging:
  pattern:
    console: '%d{MM/dd HH:mm:ss.SSS} %clr(%-5level) ---  [%-15thread] %cyan(%-50logger{50}):%msg%n'